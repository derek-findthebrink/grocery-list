// Generated by CoffeeScript 1.9.3
(function() {
  var clearForm, reOpenForm, setFormError, setFormSending, setFormSent;

  setFormSending = function(form) {
    form.addClass('form-send').find('.message').html("<h3>Sending...</h3>");
    return reOpenForm(form);
  };

  setFormError = function(form) {
    form.removeClass('form-send').addClass('form-error').find('.message').html('<h3>Oops! Something went wrong...</h3>');
    return reOpenForm(form);
  };

  setFormSent = function(form) {
    form.removeClass('form-send').addClass('form-success').find('.message').html('<h3>Sent!</h3>');
    clearForm(form);
    return reOpenForm(form);
  };

  clearForm = function(form) {
    return form.children('input, textarea').val('');
  };

  reOpenForm = function(form) {
    return setTimeout(function() {
      return form.removeClass('form-success form-error form-send');
    }, 6000);
  };

  $('form input[type="submit"]').click(function(e) {
    var target;
    e.preventDefault();
    target = $(this).parents('form');
    setFormSending(target);
    return setTimeout(function() {
      if (target.hasClass('test-form-success')) {
        return setFormSent(target);
      } else if (target.hasClass('test-form-error')) {
        return setFormError(target);
      }
    }, 3000);
  });

}).call(this);
